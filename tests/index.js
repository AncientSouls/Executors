'use strict';var _typeof=typeof Symbol==='function'&&typeof Symbol.iterator==='symbol'?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==='function'&&obj.constructor===Symbol&&obj!==Symbol.prototype?'symbol':typeof obj};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if('value'in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _chai=require('chai');var _async=require('async');var _async2=_interopRequireDefault(_async);var _each=require('async/each');var _each2=_interopRequireDefault(_each);var _lodash=require('lodash');var _lodash2=_interopRequireDefault(_lodash);var _colors=require('colors');var _colors2=_interopRequireDefault(_colors);var _pProps=require('p-props');var _pProps2=_interopRequireDefault(_pProps);var _documents=require('./documents');var _documents2=_interopRequireDefault(_documents);var _implementation=require('../lib/implementation');function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function')}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called')}return call&&(typeof call==='object'||typeof call==='function')?call:self}function _inherits(subClass,superClass){if(typeof superClass!=='function'&&superClass!==null){throw new TypeError('Super expression must either be null or a function, not '+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}require('source-map-support').install();var cache={};function _get(query){if(!cache[query]){if(query=='executors://js')cache[query]=new Item(_implementation.js);else if(!_documents2.default[query])return Promise.reject('Data by query '+query+' not founded.');else cache[query]=new Item(_documents2.default[query])}return cache[query].mount()};var Item=function(_ProtoItem){_inherits(Item,_ProtoItem);function Item(){_classCallCheck(this,Item);return _possibleConstructorReturn(this,(Item.__proto__||Object.getPrototypeOf(Item)).apply(this,arguments))}_createClass(Item,[{key:'get',value:function get(query){return _get(query)}}]);return Item}(_implementation.Item);describe('AncientSouls/Funicular',function(){it('js',function(){return _get('c').then(function(i){// Is items mounted?
_chai.assert.equal(i.getResult(),3);_chai.assert.equal(i.childs.a.getResult(),1);_chai.assert.equal(i.childs.b.getResult(),2);return i}).then(function(i){return i.unmount()}).then(function(i){// Is items unmounted?
_chai.assert.isFalse(i.isMounted());_chai.assert.isFalse(i.childs.a.isMounted());_chai.assert.isFalse(i.childs.b.isMounted());return i})});it('css',function(){return _get('e').then(function(i){// Is items mounted?
_chai.assert.equal(i.getResult(),'<div>123</div>');_chai.assert.equal(_typeof(i.childs.document.getResult()),'object');_chai.assert.equal(i.childs.d.getResult(),'body { color: red; }');// Document has been generated?
_chai.assert.deepEqual(cache.document.getResult().getResults(),['body { color: red; }','<div>123</div>']);return i}).then(function(i){return i.unmount()}).then(function(i){// Is items unmounted?
_chai.assert.isFalse(i.isMounted());_chai.assert.isFalse(i.childs.document.isMounted());_chai.assert.isFalse(i.childs.d.isMounted());return i})})});
//# sourceMappingURL=index.js.map